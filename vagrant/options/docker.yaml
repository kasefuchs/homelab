---
# The Vagrant Docker image to use for all virtual machines.
image: ghcr.io/kasefuchs/homelab-debian:trixie-slim

# Default Docker configuration for each container.
domain:
  # Format string for container names.
  name_format: homelab-%s

  # Arguments passed to 'docker run' for each container.
  create_arguments:
    - --dns=127.0.0.1
    - --network=homelab
    - --privileged
    - --security-opt=seccomp=unconfined

# Bind mounts for container data and configuration.
mounts:
  # Persistent state for Pebble.
  pebble-state:
    guest: /var/lib/pebble

  # Configuration files for CoreDNS.
  coredns-config:
    guest: /etc/coredns

  # Vault server configuration.
  vault-server-config:
    guest: /etc/vault

  # Vault server persistent state.
  vault-server-state:
    guest: /var/lib/vault

  # Vault agent configuration.
  vault-agent-config:
    guest: /etc/vault-agent

  # Vault agent persistent state.
  vault-agent-state:
    guest: /var/lib/vault-agent

  # Vault agent configuration.
  consul-agent-config:
    guest: /etc/consul

  # Vault agent persistent state.
  consul-agent-state:
    guest: /var/lib/consul
