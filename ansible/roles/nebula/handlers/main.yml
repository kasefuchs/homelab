---
- name: Reload Monit
  ansible.builtin.command:
    argv:
      - "{{ monit_binary_path }}"
      - -c{{ monit_config_path }}
      - reload

- name: Monitor Nebula
  ansible.builtin.command:
    argv:
      - "{{ monit_binary_path }}"
      - -c{{ monit_config_path }}
      - monitor
      - "{{ nebula_monit_service_name }}"

- name: Restart Nebula
  ansible.builtin.command:
    argv:
      - "{{ monit_binary_path }}"
      - -c{{ monit_config_path }}
      - restart
      - "{{ nebula_monit_service_name }}"
